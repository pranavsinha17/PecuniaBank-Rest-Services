
<div class="container" >
  <p id="para1">Passbook Update</p>
  <section class="col-md-20 mx-auto mt-4">
    <div class="alert alert-danger"  *ngIf="accountErrorInfo!= undefined">{{accountErrorInfo}}</div>
    <form #frm="ngForm" (ngSubmit)="update(accountNumber1)">
  <div class="col-md-12">
      <br>
      <div class="mt-3"><b>Enter Account Id:</b></div>
      <input type="text" required  #account="ngModel" 
       [class.is-invalid]="account.invalid && account.touched" 
       pattern="^[0-9]{10}$" class="form-control" placeholder="Account Number"
        name="accountNumber" [(ngModel)]="accountNumber1" maxlength="10">

      <div *ngIf="account.errors && (account.invalid && account.touched)">
          <small class="text-danger" *ngIf= "account.errors.required">
            * Account number is required</small>
          <small class="text-danger" *ngIf= "account.errors.pattern">
              * Account Number must be of 10 digits only.</small>            
          </div>
  </div>
        <input type="submit" [disabled]="!frm.valid" class="btn btn-success" value="Show Recent Transactions"/>
        <input (click)="showTransactions(accountNumber1)" [disabled]="!frm.valid" class="btn btn-success" value="Show All Transactions" style="margin-left:50px"/>
    </form>
 
  </section> 
</div> 


  <div class="container" class="display" *ngIf="val1">
  <div class="container" class="div div-card">
  <div class="card" style="width: 100rem; height: 100rem;" class="shadow-lg p-3 mb-5 bg-white rounded">
  <div class="card-body">

  <div class="card-body" class="card-header">
    <p id="para5" > <b>Last Update Date:</b> {{passbookUpdate.lastUpdate| date:'medium'}}</p>
    <p id="para2"><b>Opening Date:</b>{{accountDetails.openingDate | date}}</p>
    <p id="para2"> <b>Account Number:</b> {{accountDetails.accountNumber}}</p>
  </div>
    <div class="card-body" class="div1">
  <p><b>Branch Id:</b> {{accountDetails.branchdetails.branchId}}</p>
  <p><b>Branch Name:</b> {{accountDetails.branchdetails.branchName}}</p>
  <p><b>Branch IFSC:</b> {{accountDetails.branchdetails.branchIFSC}}</p>
  <p><b>Branch Phone No:</b> {{accountDetails.branchdetails.phoneNumber}}</p>
  <p><b>Branch Address:</b> {{accountDetails.branchdetails.address.street}} {{accountDetails.branchdetails.address.city}}
    {{accountDetails.branchdetails.address.state}}, {{accountDetails.branchdetails.address.zipCode}}
  </p>
</div>
<div class="card-body" class="div2"> 
 
  <p> <b>Account Holder Name:</b> {{accountDetails.accountHolderName}}</p>
  <p> <b>Account Status:</b> {{accountDetails.accountStatus}}</p>
  <p> <b>Account Balance:</b> {{accountDetails.accountBalance}}</p>
  <p> <b>Customer ID:</b> {{accountDetails.customerDetails.customerId}}</p>
  <p> <b>Address:</b> {{accountDetails.customerDetails.address.street}} {{accountDetails.customerDetails.address.city}}
  {{accountDetails.customerDetails.address.state}} {{accountDetails.customerDetails.address.zipCode}}
 </p> 
 </div> 

</div>  
</div>
</div>
</div> 

<div *ngIf="val2" class="div-table" >

    <div class="card-body" class="table-header">
    <p id="para3"> <b>Last Update Date:</b> {{lastUpdateDate| date:'medium'}}</p>
    </div>
    <div class="card-body" class="table-header1" >
    <input  type="text" placeholder="search by type"
    style="width: 500px; margin-left: 20px; height: 40px; margin-right:20px; margin-top: 5px;" [(ngModel)]="searchTerm">
    </div>
  
  <table style="border-radius: 2px; border-style:dotted;"  class="table table-striped">
    
  <thead style="background-color:lightgrey"> 
    <tr>
   <th  style="height: 40px; width: 110px;" >DATE</th>
   <th >TRANS ID</th>
   <th>ACCOUNT NUMBER</th>
   <th>BENIFICARY NAME</th>
   <th >BENIFICARY ACCOUNT NUMBER</th>
   <th >BANK NAME</th>
   <th> AMOUNT</th>
   <th> OPTION</th>
   <th>TYPE</th>
   <th> STATUS</th>
  </tr>
  </thead>
  
   <tbody>
       <tr *ngFor="let transaction of transactions | orderBy:'transactionDate' | searchPipe:searchTerm ">       
       <td>{{transaction.transactionDate|date:'medium'}}</td>
       <td>{{transaction.transactionId}}</td>
       <td>{{transaction.accountNumber}}</td>
       <td>{{transaction.benificaryName}}</td>
       <td>{{transaction.benificaryAccoountNumber}}</td>
       <td>{{transaction.bankName}}</td>
       <td>{{transaction.transactionAmount}}</td>
       <td>{{transaction.transactionOption}}</td>
       <td>{{transaction.transactionType}}</td>
       <td>{{transaction.transactionStatus}}</td>             
   </tbody>
   <tr><td colspan="10" style="text-align: right; height: 50px;background-color: #F5F7F7; margin-left: 50px;"><b>Account Balance :</b>{{accountDetails.accountBalance}}</td></tr>


 </table> 
</div>
    

    
                  

                          
    
    
    
    
   

 